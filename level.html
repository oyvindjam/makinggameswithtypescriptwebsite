<!doctype html><html lang="en"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Level | Making games with TypeScript</title><link rel="stylesheet" type="text/css" href="style.css"><link rel="shortcut icon" href="/favicon.ico"><script>;</script></head><body><div class="bar"><a href="game-loop.html" class="left NavigationLink">Previous</a> <a href="tableofcontents.html#21" class="center NavigationLink">21</a> <a href="baskets.html" class="right NavigationLink">Next</a></div><main><h1>Level</h1><div class="CodeDisplay"><header>src/Level.ts</header><pre><span class="token keyword">import</span> { Rectangle } <span class="token keyword">from</span> <span class="token string">&quot;./Rectangle&quot;</span>
<span class="token keyword">import</span> { Vector2 } <span class="token keyword">from</span> <span class="token string">&quot;./Vector2&quot;</span>
<span class="token keyword">import</span> { Line } <span class="token keyword">from</span> <span class="token string">&quot;./Line&quot;</span>;
<span class="token keyword">import</span> { tileSize } <span class="token keyword">from</span> <span class="token string">&quot;./world&quot;</span>;

<span class="token keyword">export</span> <span class="token keyword">class</span> Level {
  <span class="token keyword">constructor</span>(
    <span class="token keyword">readonly</span> playerStartLocation: Vector2,
    <span class="token keyword">readonly</span> spawnBasketLocations: number[][],
    <span class="token keyword">readonly</span> map: (Rectangle | <span class="token boolean">null</span>)[][],
    <span class="token keyword">readonly</span> collisionLines: Line[]
  ) {
    <span class="token keyword">for</span> (<span class="token keyword">const</span> line <span class="token keyword">of</span> this.collisionLines) {
      line.p0.set(line.p0.x * tileSize, line.p0.y * tileSize)
      line.p1.set(line.p1.x * tileSize, line.p1.y * tileSize)
    }
  }
}</pre></div><div class="CodeDisplay"><header>src/Level1.ts</header><pre><span class="token keyword">import</span> { TextureAtlas } <span class="token keyword">from</span> <span class="token string">&quot;./TextureAtlas&quot;</span>
<span class="token keyword">import</span> { Level } <span class="token keyword">from</span> <span class="token string">&quot;./Level&quot;</span>
<span class="token keyword">import</span> { Vector2 } <span class="token keyword">from</span> <span class="token string">&quot;./Vector2&quot;</span>
<span class="token keyword">import</span> { Line } <span class="token keyword">from</span> <span class="token string">&quot;./Line&quot;</span>;

<span class="token keyword">const</span> x = <span class="token boolean">null</span>
<span class="token keyword">const</span> a = TextureAtlas.steelSideBar
<span class="token keyword">const</span> b = TextureAtlas.steelTopBar
<span class="token keyword">const</span> c = TextureAtlas.steelTopBarRight
<span class="token keyword">const</span> d = TextureAtlas.steelTopBarLeft
<span class="token keyword">const</span> e = TextureAtlas.steelBarLeft
<span class="token keyword">const</span> f = TextureAtlas.steelBarMiddle
<span class="token keyword">const</span> g = TextureAtlas.steelBarRight
<span class="token keyword">const</span> h = TextureAtlas.steelBarStandTopLeft
<span class="token keyword">const</span> i = TextureAtlas.steelBarStandTopRight
<span class="token keyword">const</span> j = TextureAtlas.steelBarStandBottomLeft
<span class="token keyword">const</span> k = TextureAtlas.steelBarStandBottomRight
<span class="token keyword">const</span> l = TextureAtlas.steelSideBarBottom
<span class="token keyword">const</span> m = TextureAtlas.groundMiddle
<span class="token keyword">const</span> n = TextureAtlas.groundRight
<span class="token keyword">const</span> o = TextureAtlas.groundLeft
<span class="token keyword">const</span> p = TextureAtlas.steelBarStandCenterLeft
<span class="token keyword">const</span> q = TextureAtlas.steelBarStandCenterRight


<span class="token keyword">export</span> <span class="token keyword">const</span> level1 = <span class="token keyword">new</span> Level(
  <span class="token keyword">new</span> Vector2(135, 95),
  [
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 1, 1, 0, 0, 0, 0, 0, 1, 1, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 1, 1, 1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1, 1, 1, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
    [0, 1, 1, 1, 1, 1, 0, 0, 0, 0, 0, 1, 1, 1, 1, 1, 0],
    [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0]
  ],
  [
    [a, b, b, b, b, b, c, x, x, x, x, d, b, b, b, b, b, a],
    [a, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, a],
    [a, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, a],
    [a, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, a],
    [a, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, x, a],
    [a, x, x, x, e, f, f, f, f, f, f, f, f, g, x, x, x, a],
    [a, x, x, x, h, x, x, x, x, x, x, x, x, i, x, x, x, a],
    [a, x, x, x, j, x, x, x, x, x, x, x, x, k, x, x, x, a],
    [a, f, f, f, g, x, x, x, x, x, x, x, x, e, f, f, f, a],
    [a, x, x, x, i, x, x, x, x, x, x, x, x, h, x, x, x, a],
    [a, x, x, x, q, x, e, f, f, f, f, g, x, p, x, x, x, a],
    [a, x, x, x, q, x, h, x, x, x, x, i, x, p, x, x, x, a],
    [a, x, x, x, k, x, j, x, x, x, x, k, x, j, x, x, x, a],
    [l, m, m, m, m, m, n, x, x, x, x, o, m, m, m, m, m, l]
  ],
  [
    L(7, 0, 7, 1), L(7, 1, 1, 1), L(1, 0, 1, 14), L(1, 13.35, 7, 13.35), L(7, 13.35, 7, 14),
    L(11, 14, 11, 13.35), L(11, 13.35, 17, 13.35), L(17, 14, 17, 0), L(17, 1, 11, 1), L(17, 1, 11, 1), L(11, 1, 11, 0),
    
    L(4, 5.35, 14, 5.35), L(1, 8.35, 5, 8.35),  L(13, 8.35, 17, 8.35), L(6, 10.35, 12, 10.35),
  ]
)


<span class="token keyword">function</span> L(x0: number, y0: number, x1: number, y1: number) {
  <span class="token keyword">return</span> <span class="token keyword">new</span> Line(<span class="token keyword">new</span> Vector2(x0, y0), <span class="token keyword">new</span> Vector2(x1, y1))
}</pre></div></main><div class="bar"><a href="game-loop.html" class="left NavigationLink">Previous</a> <a href="tableofcontents.html#21" class="center NavigationLink">21</a> <a href="baskets.html" class="right NavigationLink">Next</a></div></body></html>